import{o as h,c as v,a as e,F as S,r as j,n as T,t as d,b as V,d as z,e as g,f as $,g as C,h as K,w as E,v as I,i as O,j as _}from"./index-KbWhNwOw.js";const U={class:"relative flex flex-col w-full h-full overflow-scroll text-gray-700 bg-white shadow-md rounded-lg bg-clip-border"},Q={class:"min-w-full bg-white border border-gray-300 rounded-md overflow-hidden"},R={class:"bg-gray-200"},Z=["onClick","width"],q={key:0},G={__name:"TableUI",props:{columns:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]},sortOrder:{type:String,default:"asc"}},emits:["sort-change"],setup(a,{emit:P}){const r=a,b=P,x=(f,y)=>{if(!y)return;const s=r.sortOrder==="asc"?"desc":"asc";b("sort-change",{sortKey:f,sortOrder:s})};return(f,y)=>(h(),v("div",U,[e("table",Q,[e("thead",R,[e("tr",null,[(h(!0),v(S,null,j(a.columns,s=>(h(),v("th",{key:s.key,onClick:i=>x(s.key,s==null?void 0:s.sortable),class:"p-4 border-b border-slate-300 bg-slate-50",width:s==null?void 0:s.width},[e("div",{class:T(["text-sm font-normal text-slate-500",{"cursor-pointer select-none":s==null?void 0:s.sortable}])},[e("span",null,d(s.title),1),s!=null&&s.sortable?(h(),v("b",q," ("+d(r.sortOrder==="asc"?"↑":"↓")+") ",1)):V("",!0)],2)],8,Z))),128))])]),e("tbody",null,[(h(!0),v(S,null,j(a.data,s=>(h(),v("tr",{key:s.cca3,class:"hover:bg-gray-100"},[(h(!0),v(S,null,j(a.columns,i=>(h(),v("td",{key:i.key,class:"px-4 py-2 border-t"},[z(f.$slots,i.key,{item:s},()=>[g(d(i.key.split(".").reduce((n,t)=>(n||{})[t],s)||"N/A"),1)])]))),128))]))),128))])])]))}},H={class:"flex justify-center items-center space-x-1 mt-4"},J=["disabled"],W=["disabled"],X=["onClick"],Y=["disabled"],ee=["disabled"],M=5,te={__name:"Pagination",props:{currentPage:Number,totalPages:Number},emits:["page-change"],setup(a,{emit:P}){const r=a,b=P,x=()=>{r.currentPage>1&&b("page-change",r.currentPage-1)},f=()=>{r.currentPage<r.totalPages&&b("page-change",r.currentPage+1)},y=i=>{b("page-change",i)},s=$(()=>{const i=Math.floor(M/2);let n=Math.max(r.currentPage-i,1),t=Math.min(n+M-1,r.totalPages);return t-n+1<M&&(n=Math.max(t-M+1,1)),Array.from({length:t-n+1},(p,w)=>n+w)});return(i,n)=>(h(),v("div",H,[e("button",{onClick:x,disabled:r.currentPage===1,class:"rounded-full border border-slate-300 py-2 px-3 text-center text-sm transition-all shadow-sm hover:shadow-lg text-slate-600 hover:text-white hover:bg-slate-700 hover:border-slate-800 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none ml-2"}," Prev ",8,J),e("button",{onClick:n[0]||(n[0]=t=>y(1)),disabled:r.currentPage===1,class:"rounded-full border border-slate-300 py-2 px-3 text-center text-sm transition-all shadow-sm hover:shadow-lg text-slate-600 hover:text-white hover:bg-slate-700 hover:border-slate-800 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none ml-2"}," First ",8,W),(h(!0),v(S,null,j(s.value,t=>(h(),v("button",{key:t,class:T(["min-w-9 rounded-full py-2 px-3.5 border border-transparent text-center text-sm transition-all shadow-md hover:shadow-lg hover:bg-slate-700 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none hover:text-white ml-2",{"bg-slate-700 text-white":r.currentPage===t,"text-dark":r.currentPage===t}]),onClick:p=>y(t)},d(t),11,X))),128)),e("button",{onClick:n[1]||(n[1]=t=>y(r.totalPages)),disabled:r.currentPage===r.totalPages,class:"rounded-full border border-slate-300 py-2 px-3 text-center text-sm transition-all shadow-sm hover:shadow-lg text-slate-600 hover:text-white hover:bg-slate-700 hover:border-slate-800 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none ml-2"}," Last ",8,Y),e("button",{onClick:f,disabled:r.currentPage===r.totalPages,class:"min-w-9 rounded-full border border-slate-300 py-2 px-3 text-center text-sm transition-all shadow-sm hover:shadow-lg text-slate-600 hover:text-white hover:bg-slate-700 hover:border-slate-800 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none ml-2"}," Next ",8,ee)]))}},se={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-70 z-50"},oe={class:"relative bg-white rounded-lg shadow-lg max-w-xl w-full overflow-hidden"},ne={class:"p-6 flex flex-col md:flex-row gap-6"},re={class:"flex-shrink-0 md:w-1/3"},le=["src"],ae={class:"flex-grow"},de={class:"text-2xl font-bold text-gray-800 mb-4"},ue={class:"space-y-2 text-gray-600"},ie={__name:"CountryModal",props:{country:{type:Object,default:()=>{}},countryList:{type:Array,default:[]},show:{type:Boolean,default:!1}},emits:["close"],setup(a,{emit:P}){const r=a,b=P,x=()=>{b("close")},f=n=>{var w,k;const t=((w=n==null?void 0:n.idd)==null?void 0:w.root)||"",p=((k=n==null?void 0:n.idd)==null?void 0:k.suffixes)||"";return!t&&!p?"N/A":`${t}${p}`},y=n=>n?n.toLocaleString():"N/A",s=$(()=>r.country.languages?Object.values(r.country.languages).join(", "):"N/A"),i=$(()=>{if(!r.country.currencies)return"N/A";const n=Object.values(r.country.currencies)[0];return`${n.name} (${n.symbol||""})`});return(n,t)=>{var p,w,k,A,L;return a.show?(h(),v("div",se,[e("div",oe,[e("button",{onClick:x,class:"absolute top-4 right-4 text-gray-600 hover:text-gray-800 focus:outline-none","aria-label":"Close"},t[0]||(t[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),e("div",ne,[e("div",re,[e("img",{src:(p=a.country.flags)==null?void 0:p.png,alt:"Flag",class:"w-full h-auto rounded-md shadow-sm"},null,8,le)]),e("div",ae,[e("h2",de,d((w=a.country.name)==null?void 0:w.official),1),e("div",ue,[e("p",null,[t[1]||(t[1]=e("strong",null,"Native Name:",-1)),g(" "+d(((L=(A=(k=a.country.name)==null?void 0:k.nativeName)==null?void 0:A.eng)==null?void 0:L.official)||"N/A"),1)]),e("p",null,[t[2]||(t[2]=e("strong",null,"Alternative Names:",-1)),g(" "+d(a.country.altSpellings.join(", ")||"N/A"),1)]),e("p",null,[t[3]||(t[3]=e("strong",null,"Phone Code:",-1)),g(" "+d(f(a.country)),1)]),e("p",null,[t[4]||(t[4]=e("strong",null,"Country Code:",-1)),g(" "+d(a.country.cca2)+" / "+d(a.country.cca3),1)]),e("p",null,[t[5]||(t[5]=e("strong",null,"Region:",-1)),g(" "+d(a.country.region),1)]),e("p",null,[t[6]||(t[6]=e("strong",null,"Subregion:",-1)),g(" "+d(a.country.subregion||"N/A"),1)]),e("p",null,[t[7]||(t[7]=e("strong",null,"Languages:",-1)),g(" "+d(s.value),1)]),e("p",null,[t[8]||(t[8]=e("strong",null,"Currency:",-1)),g(" "+d(i.value),1)]),e("p",null,[t[9]||(t[9]=e("strong",null,"Population:",-1)),g(" "+d(y(a.country.population)),1)])])])])])])):V("",!0)}}},ce={class:"p-6 max-w-6xl mx-auto"},ge={class:"bg-white shadow-lg rounded-lg overflow-hidden p-6 border border-gray-200"},he={class:"w-full flex justify-between items-center mb-3 mt-1 pl-3"},ve={class:"ml-3"},be={class:"w-full max-w-sm min-w-[200px] relative"},fe={class:"relative"},ye=["src"],we=["onClick"],pe={__name:"Country",setup(a){const P=[{key:"flag",title:"Flag"},{key:"name",title:"Country",sortable:!0},{key:"cca2",title:"Code (2)",width:"10%"},{key:"cca3",title:"Code (3)",width:"10%"},{key:"nativeName",title:"Native Name"},{key:"altName",title:"Alternative Name"},{key:"idd",title:"Phone Code",width:"15%"}],r=C([]),b=C(1),x=C(25),f=C(""),y=C("asc"),s=C("name"),i=C(null),n=()=>{fetch("https://restcountries.com/v3.1/all").then(o=>o.json()).then(o=>{r.value=o}).catch(o=>console.error("Error:",o))},t=$(()=>{let o=r.value;return f.value&&(o=o.filter(u=>u.name.official.toLowerCase().includes(f.value.toLowerCase()))),s.value&&(o=[...o].sort((u,l)=>{var N,F;const c=((N=u[s.value])==null?void 0:N.official)||u[s.value],m=((F=l[s.value])==null?void 0:F.official)||l[s.value];return y.value==="asc"?c>m?1:-1:c<m?1:-1})),o}),p=$(()=>{const o=(b.value-1)*x.value,u=o+x.value;return t.value.slice(o,u)}),w=$(()=>Math.ceil(t.value.length/x.value)),k=o=>{o>=1&&o<=w.value&&(b.value=o)},A=o=>{s.value=o.sortKey,y.value=o.sortOrder},L=o=>{var c,m;const u=((c=o==null?void 0:o.idd)==null?void 0:c.root)||"",l=((m=o==null?void 0:o.idd)==null?void 0:m.suffixes)||"";return!u&&l?"N/A":`${u}${l}`},B=o=>{i.value=o},D=()=>{i.value=null};return K(()=>n()),(o,u)=>(h(),v("div",ce,[e("div",ge,[e("div",he,[u[3]||(u[3]=e("div",null,[e("h3",{class:"text-lg font-semibold text-slate-800"},"Country List"),e("p",{class:"text-slate-500"},"List all of countries around the world.")],-1)),e("div",ve,[e("div",be,[e("div",fe,[E(e("input",{class:"bg-white w-full pr-11 h-10 pl-3 py-2 bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-400 shadow-sm focus:shadow-md",placeholder:"Search country by name...","onUpdate:modelValue":u[0]||(u[0]=l=>f.value=l),onInput:u[1]||(u[1]=l=>b.value=1)},null,544),[[I,f.value]]),u[2]||(u[2]=e("button",{class:"absolute h-8 w-8 right-1 top-1 my-auto px-2 flex items-center bg-white rounded",type:"button"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"currentColor",class:"w-8 h-8 text-slate-600"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])],-1))])])])]),O(G,{columns:P,data:p.value,sortOrder:y.value,onSortChange:A},{flag:_(({item:l})=>{var c;return[e("img",{src:(c=l==null?void 0:l.flags)==null?void 0:c.png,alt:"Flag",class:"w-14 h-auto rounded"},null,8,ye)]}),name:_(({item:l})=>{var c;return[e("span",{onClick:m=>B(l),class:"text-blue-600 cursor-pointer"},d((c=l==null?void 0:l.name)==null?void 0:c.official),9,we)]}),nativeName:_(({item:l})=>{var c,m,N;return[g(d(((N=(m=(c=l==null?void 0:l.name)==null?void 0:c.nativeName)==null?void 0:m.eng)==null?void 0:N.official)||""),1)]}),altName:_(({item:l})=>[g(d((l==null?void 0:l.altSpellings[1])||""),1)]),idd:_(({item:l})=>[g(d(L(l)),1)]),_:1},8,["data","sortOrder"]),O(te,{currentPage:b.value,totalPages:w.value,onPageChange:k},null,8,["currentPage","totalPages"])]),O(ie,{country:i.value,show:!!i.value,onClose:D},null,8,["country","show"])]))}};export{pe as default};
